<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>é¸Ÿå®å¯„å…»æœåŠ¡é©¿ç«™</title>
    <link rel="stylesheet" href="./css/main.css">
    <style>
        .showtitle {
            width: 100%;
            margin: 0 auto;
            text-align: center;
            font-size: 29px;
            opacity: 0;
            font-family: "å¾®è½¯é›…é»‘ Light";
            letter-spacing: 3px;
            vertical-align: middle;
        }

        .card {
            width: 88vw;
            margin: 0 auto;
            border-radius: 20px;
            font-weight: 600;
            font-size: 18px;
            background: rgb(255 255 255 / 0%);
            border-top: 1px solid;
            border-bottom: 1px solid;
            padding-bottom: 16px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: inset 2px 2px 6px 2px rgb(255 255 255 / 20%), inset -2px -2px 4px -1px rgb(255 255 255 / 20%);
        }

        .method-option {
            display: flex;
            align-items: center;
        }

        .method-option input[type="radio"] {
            margin: 10px;
            appearance: none;
            width: 18px;
            height: 18px;
            border: 2px solid #ccc;
            border-radius: 50%;
            outline: none;
            cursor: pointer;
        }

        .method-option input[type="radio"]:checked {
            border: 2px solid #fff;
            background: #0099ff;
        }

        .qr-code-container {
            /* åˆå§‹é«˜åº¦ä¸º0 */
            height: 0;
            /* éšè—æº¢å‡ºå†…å®¹ */
            overflow: hidden;
            /* æ·»åŠ è¿‡æ¸¡æ•ˆæœ */
            transition: height 0.5s ease;
            text-align: center;
            margin-top: 20px;
        }

        .qr-code-container.active {
            height: 360px;
        }

        .qr-code {
            width: 200px;

            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .progress.ro.dot {
            left: 47.6vw;
        }

        /* èƒŒæ™¯å®¹å™¨æ ·å¼ */
        .background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            /* åˆå§‹çº¯é»‘è‰²èƒŒæ™¯ */
            z-index: -1;
        }

        .background-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .background-image.loaded {
            opacity: 1;
        }

        /* å¼¹çª—æ ·å¼ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            border-radius: 15px;
            padding: 25px;
            width: 85vw;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .modal-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }

        .close-btn {
            font-size: 24px;
            cursor: pointer;
            color: #999;
            background: none;
            border: none;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            color: #333;
        }

        .modal-body {
            font-size: 14px;
            line-height: 1.6;
            color: #555;
        }

        .modal-body ul {
            padding-left: 20px;
        }

        .modal-body li {
            margin: 8px 0;
        }

        .modal-body h3 {
            margin: 15px 0 10px 0;
            font-size: 16px;
            color: #333;
        }
    </style>

</head>

<body>
    <!-- èƒŒæ™¯å®¹å™¨ -->
    <div class="background-container" id="backgroundContainer">
        <div class="background-image" id="backgroundImage"></div>
    </div>

    <div class="name" style="margin: 0;">


        <h2 style="color: #ff771e;font-weight: 600;">ğŸ¦œé¸Ÿå®å¯„å…»æœåŠ¡é©¿ç«™</h2>


        <div class="card">

            <p style="color: #ffc812;display: block;text-align: center;font-size:12px">
                â­æ”¯æŒå¯„å…»ä¸‹åˆ—å“ç§ï¼ˆé›é¸Ÿã€åŠæ¯›é™¤å¤–ï¼‰ï¼Œå¯å®Œå…¨éš”ç¦»ï¼Œä¸æ··å…»<BR>
                â­360Â°è¶…å¤§è§‚æ™¯æˆ¿å®è´ä½å¾—èˆ’å¿ƒï¼Œæä¾›æ¯æ—¥æ¢æ°´æ¢ç²®ç­‰æœåŠ¡<BR>
                â­æ”¯æŒ24å°æ—¶ç›´æ’­ï¼Œè®©ä½ å‡ºå·®ä¹Ÿå¯éšæ—¶éšåœ°æŸ¥çœ‹é¸Ÿå®å’Œè¿œç¨‹äº’åŠ¨<BR>
                â­éœ€å¯„å…»å…¶ä»–ç±»å‹å¯ç§èŠï¼ˆé‡‘å¤ªé˜³ã€é‡‘åˆšä¸äºˆæ¥æ”¶ï¼‰ï¼Œéœ€è‡ªå¸¦ç²®<BR>
                â­å¯„å…»æ€»ä»·Â¥30äº«95æŠ˜ä¼˜æƒ ï¼Œæ€»ä»·è¶Šé«˜æŠ˜æ‰£è¶Šå¤§ï¼ˆèŠ‚å‡æ—¥åŸä»·ï¼‰<BR>
                <span id="notice" style="color: #e9e9e9;">å¯„å…»å‰è¯·é˜…è¯»ã€Šå¯„å…»å£°æ˜ã€‹ï¼Œç¡®è®¤å¯„å…»åˆ™è§†ä¸ºå·²åŒæ„æ­¤æ¡æ¬¾</span><BR>
            </p>

            <p onclick="tb()" style="cursor:pointer">å®šåˆ¶æ‚¨çš„å¯„å…»è®¡åˆ’</p>

            <section style="padding: 0 16px;">
                <p><strong>å¯„å…»å“ç§ï¼ˆå¯å¤šé€‰ï¼‰ï¼š</strong></p>

                <div class="bird-option">
                    <label>
                        <input type="checkbox" name="birdType" value="6.6" data-name="è™çš®" checked>
                        è™çš® | ç‰¡ä¸¹ (Â¥6.6/å¤©) æ•°é‡
                    </label>
                    <input type="number" class="quantity-input" value="1" min="1" max="100">
                </div>

                <div class="bird-option">
                    <label>
                        <input type="checkbox" name="birdType" value="7.7" data-name="ç„å‡¤">
                        ç„å‡¤ | å¤ªå¹³æ´‹ (Â¥7.7/å¤©) æ•°é‡
                    </label>
                    <input type="number" class="quantity-input" value="1" min="1" max="100" disabled>
                </div>

                <div class="bird-option">
                    <label>
                        <input type="checkbox" name="birdType" value="8.8" data-name="å’Œå°š">
                        å’Œå°š | å°å¤ªé˜³ (Â¥8.8/å¤©) æ•°é‡
                    </label>
                    <input type="number" class="quantity-input" value="1" min="1" max="100" disabled>
                </div>

                <div class="bird-option">
                    <label>
                        <input type="checkbox" name="birdType" value="12.8" data-name="å…¶ä»–">
                        å…¶ä»–å“ç§ (Â¥12.8/å¤©) æ•°é‡
                    </label>
                    <input type="number" class="quantity-input" value="1" min="1" max="100" disabled>
                </div>

                <p style="margin-top: 16px;"><strong>å¯„å…»èµ·æ­¢æ—¶é—´ï¼š</strong><br>
                    <input type="date" id="startDate" style="width: 102px;"> â€”
                    <input type="date" id="endDate" style="width: 102px;">
                </p>

                <p style="margin-top: 16px;color: #ffbb00;"><strong>æ€»ä»·ï¼šÂ¥<span id="totalCost">0.00</span></strong></p>
            </section>

            <p>é€‰æ‹©æ‚¨é€‚åˆçš„æ”¯ä»˜æ–¹å¼ï¼š</p>

            <div class="payment-method">


                <label class="method-option">
                    <input type="radio" name="payment" value="bank">

                    <img src="./img/z.png" width="22px">&nbsp;
                    æ”¯ä»˜å®ï¼ˆæ¨èï¼‰
                </label>

                <div class="qr-code-container" id="qrCode2">
                    <div class="qr-code">
                        <img src="./img/alipay.png" alt="æ”¯ä»˜å®æ”¯ä»˜äºŒç»´ç " width="222px">
                    </div>
                </div>

                <label class="method-option">
                    <input type="radio" name="payment" value="wechat">
                    <span class="method-icon">âœ…</span>&nbsp;
                    å¾®ä¿¡
                </label>

                <div class="qr-code-container" id="qrCode1">
                    <div class="qr-code">
                        <img src="./img/wx.png" alt="å¾®ä¿¡æ”¯ä»˜äºŒç»´ç " width="222px">
                    </div>
                </div>
            </div>

        </div>

    </div>

    <!-- å¼¹çª— -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">å¯„å…»å…è´£å£°æ˜</div>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>ç”²æ–¹ï¼šå¯„å…»äºº</p>     
                <p>ä¹™æ–¹ï¼šæ”¶å…»äºº</p>            
                <ul>
                    <li>å› å® ç‰©è‡ªèº«åŸå› é€ æˆçš„ä¼¤å®³æˆ–æ­»äº¡ï¼Œä¹™æ–¹ä¸æ‰¿æ‹…ç›¸å…³è´£ä»»
                        <ul>
                            <li>åŒ…æ‹¬ä½†ä¸é™äºï¼šå® ç‰©å…ˆå¤©æ€§ç–¾ç—…ã€é—ä¼ ç¼ºé™·ï¼›</li>
                            <li>æ—¢å¾€å­˜åœ¨çš„åŸºç¡€ç–¾ç—…ï¼ˆå¦‚å¿ƒè„ã€å‘¼å¸ç³»ç»Ÿç–¾ç—…ã€å…ç–«ç¼ºé™·ç­‰ï¼‰ï¼›ä»¥åŠä½“å¼±å¤šç—…ã€æŠµæŠ—åŠ›ä½ä¸‹å¯¼è‡´çš„çªå‘çŠ¶å†µï¼›</li>
                            <li>è‡ªæ®‹è¡Œä¸ºã€å•„ç¾½ã€æ’ç¬¼ç­‰éäººä¸ºå› ç´ å¼•èµ·çš„ä¼¤äº¡ã€‚</li>
                        </ul>
                    </li>
                    <li>ä¹™æ–¹ä»…æä¾›æ—¥å¸¸ç…§æ–™æœåŠ¡ï¼ˆæ¢é¥®ç”¨æ°´å’Œæ·»åŠ ç²®é£Ÿï¼‰ï¼Œä¸æ‰¿æ‹…å…¶ä»–åŒ»ç–—è´£ä»»ï¼Œä¹™æ–¹ä¸å¯¹å® ç‰©æ‚£ç—…ã€çªå‘ç–¾ç—…ã€æ„å¤–æ­»äº¡æ‰¿æ‹…è´£ä»»ï¼›
                        <ul>
                            <li>è‹¥å® ç‰©åœ¨å¯„å…»æœŸé—´å‡ºç°å¥åº·é—®é¢˜ï¼Œä¹™æ–¹æœ‰ä¹‰åŠ¡åŠæ—¶é€šçŸ¥ç”²æ–¹ï¼Œå› ç”²æ–¹æœªåŠæ—¶å“åº”é€ æˆçš„é—®é¢˜ï¼Œä¹™æ–¹ä¸æ‰¿æ‹…è´£ä»»ã€‚è‹¥ä¹™æ–¹å·²é€šçŸ¥å® ç‰©å¼‚å¸¸æƒ…å†µï¼Œä½†ç”²æ–¹æœªåœ¨8å°æ—¶å†…ä½œå‡ºå¤„ç†å†³å®šæˆ–å®‰æ’é€åŒ»æˆ–æ¥å›ï¼Œç”±æ­¤äº§ç”Ÿçš„åæœç”±ç”²æ–¹è‡ªè¡Œæ‰¿æ‹…ï¼›
                            </li>
                            <li>ä¹™æ–¹æœ‰æƒåœ¨æç«¯æƒ…å†µä¸‹ï¼ˆå¦‚å® ç‰©æ¿’å±ä¸”æ— æ³•è”ç³»ç”²æ–¹ï¼‰å¯é‡‡å–ä¸´æ—¶æŠ¢æ•‘åº”æ€¥æªæ–½ï¼Œä½†ä¸æ‰¿æ‹…æœ€ç»ˆæ„å¤–è´£ä»»ã€‚</li>
                            <li>ä¹™æ–¹æä¾›çš„ç›‘æ§ä»…ä¾›ç”²æ–¹æŸ¥çœ‹ï¼Œä¸å¾—ç”¨äºå•†ä¸šç”¨é€”æˆ–å…¶ä»–éæ³•ç›®çš„ã€‚</li>
                        </ul>
                    </li>
                    <li>ä¸å¯æŠ—åŠ›å…è´£
                        <ul>
                            <li>å› è‡ªç„¶ç¾å®³ã€å…¬å…±å«ç”Ÿäº‹ä»¶ã€æ”¿åºœç®¡åˆ¶ç­‰ä¸å¯æŠ—åŠ›å¯¼è‡´çš„æœåŠ¡ä¸­æ–­æˆ–å® ç‰©æŸå¤±ï¼ŒåŒæ–¹äº’ä¸è¿½è´£ã€‚</li>
                        </ul>
                    </li>
                </ul>


                <h3>åè®®ç”Ÿæ•ˆä¸ç»ˆæ­¢</h3>
                <ul>
                    <li>æœ¬åè®®è‡ªåŒæ–¹æœåŠ¡å‘ç”Ÿä¹‹æ—¥èµ·ç”Ÿæ•ˆã€‚</li>
                    <li>ç”²æ–¹æå‰ç»“æŸå¯„å…»çš„ï¼Œéœ€æå‰72å°æ—¶é€šçŸ¥ä¹™æ–¹ï¼Œå¯åå•†æ¯”ä¾‹é€€è¿˜è´¹ç”¨ã€‚</li>
                    <li>ä¹™æ–¹æœ‰æƒåœ¨ä»¥ä¸‹æƒ…å½¢ä¸‹ç»ˆæ­¢æœåŠ¡ï¼šå® ç‰©å‡ºç°ä¸¥é‡ä¼ æŸ“æ€§ç–¾ç—…ï¼›
                        <ul>
                            <li>ç”²æ–¹é•¿æœŸå¤±è”æˆ–æ‹’ç»é…åˆå¤„ç†ï¼›</li>
                            <li>å…¶ä»–å±åŠä»–äººæˆ–å…¬å…±å®‰å…¨çš„æƒ…å†µã€‚</li>
                        </ul>
                    </li>
                </ul>

                <h3>å…¶ä»–çº¦å®š</h3>
                <ul>
                    <li>å› æœ¬åè®®å¼•èµ·çš„äº‰è®®ï¼ŒåŒæ–¹åº”å‹å¥½åå•†è§£å†³</li>
                    <li>ç”²æ–¹æ¥å—æœåŠ¡è¡¨æ˜ç¡®è®¤å·²é˜…è¯»å¹¶ç†è§£æœ¬åè®®å…¨éƒ¨å†…å®¹ï¼Œå¹¶è‡ªæ„¿æ¥å—å…¶çº¦æŸã€‚</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // å·¥å…·å‡½æ•°ï¼šæ ¼å¼åŒ–æ—¥æœŸä¸º YYYY-MM-DD
        function formatDate(date) {
            const y = date.getFullYear();
            const m = String(date.getMonth() + 1).padStart(2, '0');
            const d = String(date.getDate()).padStart(2, '0');
            return `${y}-${m}-${d}`;
        }

        // åˆå§‹åŒ–æ—¥æœŸé™åˆ¶
        function initDateInputs() {
            const today = new Date();
            const maxDate = new Date();
            maxDate.setDate(today.getDate() + 89); // æœ€å¤š90å¤©ï¼ˆå«å½“å¤©ï¼‰ï¼Œæ‰€ä»¥+89

            const startDateInput = document.getElementById('startDate');
            const endDateInput = document.getElementById('endDate');

            const todayStr = formatDate(today);
            const maxStr = formatDate(maxDate);

            startDateInput.min = todayStr;
            startDateInput.value = todayStr; // é»˜è®¤é€‰ä»Šå¤©

            endDateInput.min = todayStr;
            endDateInput.max = maxStr;

            // å½“ startDate æ”¹å˜æ—¶ï¼ŒåŠ¨æ€æ›´æ–° endDate çš„ min å’Œ max
            startDateInput.addEventListener('change', () => {
                const selectedStart = new Date(startDateInput.value);
                const newMin = new Date(selectedStart);
                const newMax = new Date(selectedStart);
                newMax.setDate(newMin.getDate() + 89); // æœ€å¤šå†åŠ 89å¤© â†’ æ€»å…±90å¤©

                endDateInput.min = formatDate(newMin);
                endDateInput.max = formatDate(newMax);

                // å¦‚æœå½“å‰ endDate è¶…å‡ºæ–°èŒƒå›´ï¼Œè‡ªåŠ¨ä¿®æ­£
                const currentEnd = new Date(endDateInput.value);
                if (endDateInput.value && (currentEnd < newMin || currentEnd > newMax)) {
                    endDateInput.value = formatDate(newMin); // é‡ç½®ä¸º startDate
                }

                calculateTotal();
            });

            endDateInput.addEventListener('change', calculateTotal);
        }

        // è®¡ç®—æ€»ä»·ï¼ˆå«æŠ˜æ‰£ï¼‰
        function calculateTotal() {
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;

            if (!startDate || !endDate) {
                document.getElementById('totalCost').innerText = '0.00';
                return;
            }

            const start = new Date(startDate);
            const end = new Date(endDate);

            if (end < start) {
                document.getElementById('totalCost').innerText = '0.00';
                return;
            }

            const days = Math.floor((end - start) / (1000 * 60 * 60 * 24)) + 1;
            if (days > 90) {
                // ç†è®ºä¸Šä¸ä¼šè§¦å‘ï¼ˆå›  input é™åˆ¶ï¼‰ï¼Œä½†åŒé‡ä¿é™©
                document.getElementById('totalCost').innerText = '0.00';
                return;
            }

            let rawTotal = 0;
            const checkboxes = document.querySelectorAll('input[name="birdType"]');
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const pricePerDay = parseFloat(checkbox.value);
                    const quantityInput = checkbox.closest('.bird-option').querySelector('.quantity-input');
                    const quantity = parseInt(quantityInput.value) || 0;
                    if (quantity > 0) {
                        rawTotal += pricePerDay * quantity * days;
                    }
                }
            });

            // åº”ç”¨æŠ˜æ‰£
            let finalTotal = rawTotal;
            if (rawTotal >= 50) {
                finalTotal = rawTotal * 0.85;
            } else if (rawTotal > 30) {
                finalTotal = rawTotal * 0.95;
            }

            document.getElementById('totalCost').innerText = finalTotal.toFixed(2);
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            // åˆå§‹åŒ–æ—¥æœŸ
            initDateInputs();

            const checkboxes = document.querySelectorAll('input[name="birdType"]');
            const quantityInputs = document.querySelectorAll('.quantity-input');

            // å“ç§å‹¾é€‰æ§åˆ¶æ•°é‡è¾“å…¥æ¡†å¯ç”¨/ç¦ç”¨
            checkboxes.forEach((checkbox, index) => {
                checkbox.addEventListener('change', function () {
                    quantityInputs[index].disabled = !this.checked;
                    calculateTotal();
                });
            });

            // æ•°é‡å˜åŒ–
            quantityInputs.forEach(input => {
                input.addEventListener('change', calculateTotal);
            });

            // æ”¯ä»˜æ–¹å¼åˆ‡æ¢ï¼ˆä¿ç•™åŸé€»è¾‘ï¼‰
            const radioButtons = document.querySelectorAll('input[name="payment"]');
            const qrCode1 = document.getElementById('qrCode1');
            const qrCode2 = document.getElementById('qrCode2');
            radioButtons.forEach(radio => {
                radio.addEventListener('change', function () {
                    if (this.value === 'wechat') {
                        qrCode1.classList.add('active');
                        qrCode2.classList.remove('active');
                    } else {
                        qrCode1.classList.remove('active');
                        qrCode2.classList.add('active');
                    }
                });
            });

            // å®ç°èƒŒæ™¯å›¾ç‰‡æ‡’åŠ è½½
            loadBackgroundImage();

            // æ·»åŠ å¼¹çª—åŠŸèƒ½
            const noticeElement = document.getElementById('notice');
            const modalOverlay = document.getElementById('modalOverlay');
            const closeModalBtn = document.getElementById('closeModal');

            // æ˜¾ç¤ºå¼¹çª—
            noticeElement.addEventListener('click', function () {
                modalOverlay.style.display = 'block';
            });

            // å…³é—­å¼¹çª—
            closeModalBtn.addEventListener('click', function () {
                modalOverlay.style.display = 'none';
            });

            // ç‚¹å‡»é®ç½©å±‚å…³é—­å¼¹çª—
            modalOverlay.addEventListener('click', function (e) {
                if (e.target === modalOverlay) {
                    modalOverlay.style.display = 'none';
                }
            });
        });

        // å…¶ä»–å‡½æ•°ï¼ˆå¦‚ jumpï¼‰ä¿ç•™
        function jump() {
            window.open("https://www.office.com");
        }

        // å®ç°èƒŒæ™¯å›¾ç‰‡æ‡’åŠ è½½
        function loadBackgroundImage() {
            const backgroundImage = document.getElementById('backgroundImage');

            // åˆ›å»ºä¸€ä¸ªä¸´æ—¶å›¾ç‰‡å¯¹è±¡æ¥åŠ è½½èƒŒæ™¯å›¾ç‰‡
            const img = new Image();
            img.src = './img/bird.png';

            // å›¾ç‰‡åŠ è½½å®Œæˆåçš„å›è°ƒ
            img.onload = function () {
                // è®¾ç½®èƒŒæ™¯å›¾ç‰‡
                backgroundImage.style.backgroundImage = `url(${img.src})`;

                // æ·»åŠ loadedç±»ï¼Œè§¦å‘åŠ¨ç”»æ•ˆæœ
                backgroundImage.classList.add('loaded');
            };

            // å›¾ç‰‡åŠ è½½å¤±è´¥çš„å¤„ç†
            img.onerror = function () {
                console.error('èƒŒæ™¯å›¾ç‰‡åŠ è½½å¤±è´¥');
                // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ é”™è¯¯å¤„ç†é€»è¾‘ï¼Œæ¯”å¦‚ä½¿ç”¨é»˜è®¤å›¾ç‰‡
            };
        }
    </script>
</body>

</html>